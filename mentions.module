<?php 



/**
 * @file mentions.module
 */

use Drupal\Core\Url;

/**
 * Provides hook implementations for mentions module.
 */

function mentions_theme() {
  return array(
   'mentions' => array(
     'variables' => array(
       'userid' => NULL,
       'link' => NULL
     )
   )
);
}

/**
 * Implements template_preprocess_mentions().
 */
function template_preprocess_mentions(&$variables) {
  //$settings = \Drupal::config('mentions.mentions');
 //print_r($variables);
 //$variables['userid'] = 5;
 //$variables['link'] = '<a href="http://google.com">';
 // $variables['userintext']['userid'] = 5;
 //$variables['userintext']['link'] = '<a href="http://google.com">';

  
  /*
  global $base_url;
  global $base_root;
  foreach (array('text', 'link') as $type) {
    if (!empty($output_settings[$type])) {
      $content = \Drupal::token()->replace($output_settings[$type], array('user' => $user));
      if ($type == 'text') {
        $text = $content;
      }
      else {
        $link = htmlentities($content);
      }
    }
  }

  $user_page_url = Url::fromUri('base:' . $link);
  $variables['userid'] = '';
  $variables['link'] = \Drupal::l($output_settings['prefix'] . $text . $output_settings['suffix'], $user_page_url, array('attributes' => array('class' => 'mentions mentions-' . $variables['userid'] , 'title' => $text)))->getGeneratedLink();

   * }
   */
}
